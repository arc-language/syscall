@.str.0 = external constant [36 x i8] [i8 91, i8 65, i8 114, i8 99, i8 93, i8 32, i8 83, i8 116, i8 97, i8 114, i8 116, i8 105, i8 110, i8 103, i8 32, i8 67, i8 43, i8 43, i8 32, i8 73, i8 110, i8 116, i8 101, i8 114, i8 111, i8 112, i8 32, i8 84, i8 101, i8 115, i8 116, i8 46, i8 46, i8 46, i8 10, i8 0]
@.str.1 = external constant [18 x i8] [i8 91, i8 65, i8 114, i8 99, i8 93, i8 32, i8 82, i8 101, i8 115, i8 117, i8 108, i8 116, i8 58, i8 32, i8 37, i8 100, i8 10, i8 0]
@.str.2 = external constant [26 x i8] [i8 91, i8 65, i8 114, i8 99, i8 93, i8 32, i8 69, i8 82, i8 82, i8 79, i8 82, i8 58, i8 32, i8 69, i8 120, i8 112, i8 101, i8 99, i8 116, i8 101, i8 100, i8 32, i8 51, i8 48, i8 10, i8 0]
@.str.3 = external constant [18 x i8] [i8 91, i8 65, i8 114, i8 99, i8 93, i8 32, i8 82, i8 101, i8 115, i8 117, i8 108, i8 116, i8 58, i8 32, i8 37, i8 100, i8 10, i8 0]
@.str.4 = external constant [20 x i8] [i8 91, i8 65, i8 114, i8 99, i8 93, i8 32, i8 84, i8 101, i8 115, i8 116, i8 32, i8 80, i8 97, i8 115, i8 115, i8 101, i8 100, i8 46, i8 10, i8 0]

declare external ccc ptr<%CppCalculator> @CreateCalculator()

declare external ccc void @DestroyCalculator(ptr<%CppCalculator>)

declare external ccc i32 @printf(ptr<u8>, ...)

define external ccc void @main() {
entry:
  %0 = getelementptr inbounds [36 x i8], ptr<[36 x i8]> @.str.0, i32 0, i32 0
  %1 = call ccc i32 @printf(ptr<i8> %0)
  %calc.addr = alloca ptr<%CppCalculator>
  %2 = call ccc ptr<%CppCalculator> @CreateCalculator()
  store ptr<%CppCalculator> %2, ptr<ptr<%CppCalculator>> %calc.addr
  %sum.addr = alloca i32
  %3 = load ptr<%CppCalculator>, ptr<ptr<%CppCalculator>> %calc.addr
  %vptr_ptr = bitcast ptr<%CppCalculator> %3 to ptr<ptr<void>>
  %vtable = load ptr<void>, ptr<ptr<void>> %vptr_ptr
  %vtable_arr = bitcast ptr<void> %vtable to ptr<ptr<void>>
  %method_slot = getelementptr inbounds ptr<void>, ptr<ptr<void>> %vtable_arr, i32 0
  %fn_ptr_void = load ptr<void>, ptr<ptr<void>> %method_slot
  %fn_ptr = bitcast ptr<void> %fn_ptr_void to ptr<fn(ptr<%CppCalculator>, i32, i32) -> i32>
  %4 = call ccc i32 %fn_ptr(ptr<%CppCalculator> %3, i64 10, i64 20)
  store i32 %4, ptr<i32> %sum.addr
  %5 = getelementptr inbounds [18 x i8], ptr<[18 x i8]> @.str.1, i32 0, i32 0
  %6 = load i32, ptr<i32> %sum.addr
  %7 = call ccc i32 @printf(ptr<i8> %5, i32 %6)
  %8 = load i32, ptr<i32> %sum.addr
  %9 = icmp ne i32 %8, 30
  br i1 %9, label %if.then.0, label %if.end
if.end:
  %diff.addr = alloca i32
  %12 = load ptr<%CppCalculator>, ptr<ptr<%CppCalculator>> %calc.addr
  %vptr_ptr = bitcast ptr<%CppCalculator> %12 to ptr<ptr<void>>
  %vtable = load ptr<void>, ptr<ptr<void>> %vptr_ptr
  %vtable_arr = bitcast ptr<void> %vtable to ptr<ptr<void>>
  %method_slot = getelementptr inbounds ptr<void>, ptr<ptr<void>> %vtable_arr, i32 1
  %fn_ptr_void = load ptr<void>, ptr<ptr<void>> %method_slot
  %fn_ptr = bitcast ptr<void> %fn_ptr_void to ptr<fn(ptr<%CppCalculator>, i32, i32) -> i32>
  %13 = call ccc i32 %fn_ptr(ptr<%CppCalculator> %12, i64 100, i64 42)
  store i32 %13, ptr<i32> %diff.addr
  %14 = getelementptr inbounds [18 x i8], ptr<[18 x i8]> @.str.3, i32 0, i32 0
  %15 = load i32, ptr<i32> %diff.addr
  %16 = call ccc i32 @printf(ptr<i8> %14, i32 %15)
  %17 = load ptr<%CppCalculator>, ptr<ptr<%CppCalculator>> %calc.addr
  call ccc void @DestroyCalculator(ptr<%CppCalculator> %17)
  %18 = getelementptr inbounds [20 x i8], ptr<[20 x i8]> @.str.4, i32 0, i32 0
  %19 = call ccc i32 @printf(ptr<i8> %18)
  ret void
if.then.0:
  %10 = getelementptr inbounds [26 x i8], ptr<[26 x i8]> @.str.2, i32 0, i32 0
  %11 = call ccc i32 @printf(ptr<i8> %10)
  br label %if.end
}
